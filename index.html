<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>El Resolvito | Tu Tienda a Domicilio en La Habana</title>
    <meta name="description" content="Encuentra víveres y más en El Resolvito. Haz tu pedido online y recíbelo en La Habana. Compra fácil y rápido por WhatsApp.">
    <meta name="keywords" content="tienda online habana, mercado habana, entrega a domicilio cuba, mandados habana, el resolvito">
    <meta name="author" content="El Resolvito">

    <!-- ========================================================= -->
    <!-- === BLOQUE DE ÍCONOS Y MANIFEST PROFESIONAL (HÍBRIDO) === -->
    <!-- ========================================================= -->
    <link rel="manifest" href="manifest.json?v=6">
    <meta name="theme-color" content="#0d3b33">
    <link rel="apple-touch-icon" href="android-chrome-512x512.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #0d3b33;
            --accent-color: #c94a37;
            --background-white: #ffffff;
            --light-background-gray: #f9fafb;
            --text-dark: #1f2937;
            --text-medium: #4b5563;
            --dark-overlay: rgba(0, 0, 0, 0.6);
        }
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; background-color: var(--light-background-gray); }
        .text-fixed-sm { font-size: 0.75rem; } @media (min-width: 768px) { .text-fixed-sm { font-size: 0.875rem; } }
        .text-fixed-base { font-size: 0.875rem; } @media (min-width: 768px) { .text-fixed-base { font-size: 1rem; } }
        .text-fixed-lg { font-size: 1rem; } @media (min-width: 768px) { .text-fixed-lg { font-size: 1.125rem; } }
        .text-fixed-xl { font-size: 1.125rem; } @media (min-width: 768px) { .text-fixed-xl { font-size: 1.25rem; } }
        .text-fixed-2xl { font-size: 1.25rem; } @media (min-width: 768px) { .text-fixed-2xl { font-size: 1.5rem; } }
        .text-fixed-3xl { font-size: 1.5rem; } @media (min-width: 768px) { .text-fixed-3xl { font-size: 1.875rem; } }
        .text-fixed-4xl { font-size: 1.875rem; } @media (min-width: 768px) { .text-fixed-4xl { font-size: 2.25rem; } }
        .text-fixed-6xl { font-size: 2.5rem; } @media (min-width: 768px) { .text-fixed-6xl { font-size: 3.75rem; } }
        .hero-banner { background-image: url('https://i.postimg.cc/rsCKV7LZ/1755367982611.jpg'); background-size: cover; background-position: center; }
        .hero-overlay { background-color: var(--dark-overlay); }
        header.scrolled { background-color: rgba(13, 59, 51, 0.95); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }
        .modal-overlay { opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease; }
        .modal-overlay.show { opacity: 1; visibility: visible; }
        .modal-content { transform: translateY(-20px); opacity: 0; transition: transform 0.3s ease, opacity 0.3s ease; }
        .modal-overlay.show .modal-content { transform: translateY(0); opacity: 1; }
        #mobile-menu { transform: translateX(-100%); transition: transform 0.3s ease-in-out; }
        #mobile-menu.open { transform: translateX(0); }
        #mobile-backdrop { opacity: 0; visibility: hidden; transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out; }
        #mobile-backdrop.open { opacity: 1; visibility: visible; }
        .unit-type-btn.active { background-color: var(--primary-color); color: white; }
        .shake { animation: shake-animation 0.6s ease-in-out; }
        @keyframes shake-animation { 0% { transform: translateX(0); } 15% { transform: translateX(-8px) rotate(-5deg); } 30% { transform: translateX(8px) rotate(5deg); } 45% { transform: translateX(-8px) rotate(-5deg); } 60% { transform: translateX(8px) rotate(5deg); } 75% { transform: translateX(-5px) rotate(-2deg); } 90% { transform: translateX(5px) rotate(2deg); } 100% { transform: translateX(0); } }
        .cash-btn { border: 1px solid #d1d5db; padding: 8px 12px; border-radius: 8px; font-size: 0.875rem; transition: all 0.2s; }
        .cash-btn.active { background-color: var(--primary-color); color: white; border-color: var(--primary-color); }
        .fade-in-up, .fade-in-left, .fade-in-right { opacity: 0; transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .fade-in-up { transform: translateY(30px); }
        .fade-in-left { transform: translateX(-30px); }
        .fade-in-right { transform: translateX(30px); }
        .is-visible { opacity: 1; transform: none; }
        .category-btn { background-color: #f3f4f6; color: var(--text-medium); padding: 8px 16px; border-radius: 9999px; font-weight: 600; transition: all 0.2s; border: 1px solid transparent; }
        .category-btn:hover { background-color: #e5e7eb; }
        .category-btn.active { background-color: var(--primary-color); color: white; border-color: var(--primary-color); }
    </style>
</head>
<body class="text-gray-800">

<header id="mainHeader" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
    <!-- Contenido del header -->
</header>

<div id="mobile-menu" class="fixed top-0 left-0 h-full w-64 bg-[var(--primary-color)] z-50 shadow-xl md:hidden">
    <!-- Contenido del menú móvil -->
</div>
<div id="mobile-backdrop" class="fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden"></div>

<main>
    <!-- Contenido de las secciones hero-banner, mercado, como-comprar, contacto -->
</main>

<footer class="bg-[var(--text-dark)] text-white py-8">
    <!-- Contenido del footer -->
</footer>
    
<!-- Modals -->
<div id="cartModal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
    <!-- Contenido del modal del carrito -->
</div>
<div id="productDetailsModal" class="modal-overlay fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[1000]">
    <!-- Contenido del modal de detalles de producto -->
</div>
<div id="checkoutModal" class="modal-overlay fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4">
    <!-- Contenido del modal de checkout -->
</div>

<!-- Botón del carrito flotante -->
<button id="floatingCartBtn" class="fixed bottom-6 right-6 bg-[var(--primary-color)] text-white px-5 py-3 rounded-full shadow-lg hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105 z-40 flex items-center gap-3">
    <!-- Contenido del botón del carrito -->
</button>

<script>
    // ===================================================================
    // === INICIO DEL CATÁLOGO DE PRODUCTOS - "EL RESOLVITO" ===
    // ===================================================================
    var products = [
        { "id": 1, "name": "Aceite", "price": 900, "image": "https://i.postimg.cc/FFdbnBBS/aceite.jpg", "description": "Botella de aceite vegetal.", "category": "Mercado", "status": "available", "hasBoxOption": false },
        { "id": 2, "name": "Arroz", "price": 650, "image": "https://i.postimg.cc/ZRR352mX/arroz.jpg", "description": "Precio de oferta. Paquete de 1 kg aprox.", "category": "Mercado", "status": "available", "hasBoxOption": false },
        { "id": 3, "name": "Spaghetti", "price": 350, "image": "https://i.postimg.cc/rpBWC2DW/spaguetis.png", "description": "Paquete de spaghetti de 400g.", "category": "Mercado", "status": "available", "hasBoxOption": false },
        { "id": 4, "name": "Picadillo", "price": 380, "image": "https://i.postimg.cc/pdhzFLLR/picadillo-de-pollo.png", "description": "Paquete de picadillo de ave.", "category": "Cárnicos", "status": "available", "hasBoxOption": false },
        { "id": 5, "name": "Salchichas (Perritos)", "price": 400, "image": "https://i.postimg.cc/R0mKFv73/salchichas-1-paquete.png", "description": "Paquete de salchichas tipo perrito.", "category": "Cárnicos", "status": "available", "hasBoxOption": false },
        { "id": 6, "name": "Cerveza Presidente", "price": 220, "image": "https://i.postimg.cc/sXBWqMwz/cerveza-predidente-precio-220.png", "description": "Lata de 355 ml.", "category": "Líquidos", "status": "available", "hasBoxOption": true, "boxPrice": 5280, "boxQuantity": 24 },
        { "id": 7, "name": "Malta Guajira", "price": 250, "image": "https://i.postimg.cc/mD0wD6fZ/malta-guajira.jpg", "description": "Lata de malta refrescante.", "category": "Líquidos", "status": "available", "hasBoxOption": false },
        { "id": 8, "name": "Leche Condensada", "price": 520, "image": "https://i.postimg.cc/fRbxMK43/leche-condensada.jpg", "description": "Lata de leche condensada.", "category": "Mercado", "status": "available", "hasBoxOption": false },
        { "id": 9, "name": "Jabón de Baño", "price": 160, "image": "https://i.postimg.cc/G2L6d16q/Jab-n-Ridel-100g.png", "description": "Pastilla de jabón de baño.", "category": "Aseo Personal", "status": "available", "hasBoxOption": false },
        { "id": 10, "name": "Refresco Instantáneo", "price": 40, "image": "https://i.postimg.cc/MTzsbBM1/refresco-1.png", "description": "Sobre de refresco en polvo. Varios sabores.", "category": "Líquidos", "status": "available", "hasBoxOption": false },
        { "id": 11, "name": "Hígado de Pollo", "price": 850, "image": "https://i.postimg.cc/52k8yC1s/hiogado_de_pollo.jpg", "description": "Paquete de 1 kg.", "category": "Cárnicos", "status": "available", "hasBoxOption": false },
        { "id": 12, "name": "Whisky Jolly", "price": 400, "image": "https://i.postimg.cc/8zBPM9Yn/grok_image_xotf0za.jpg", "description": "Botella de 200 ml.", "category": "Líquidos", "status": "available", "hasBoxOption": false },
        { "id": 13, "name": "Frijol Negro", "price": 680, "image": "https://i.postimg.cc/rFt14B4k/frijol_negro.jpg", "description": "Paquete de 1 kg.", "category": "Mercado", "status": "available", "hasBoxOption": false },
        { "id": 14, "name": "Galletas SaltiBloks", "price": 890, "image": "https://i.postimg.cc/c4qpfNz7/Galletas-7-tacos.png", "description": "1 paquete de galletas.", "category": "Confituras", "status": "available", "hasBoxOption": false },
        { "id": 15, "name": "Detergente Brillante", "price": 350, "image": "https://i.postimg.cc/NfD6hnnq/detergente_brillante.jpg", "description": "Bolsa de detergente en polvo.", "category": "Aseo Personal", "status": "available", "hasBoxOption": false },
        { "id": 16, "name": "Cerveza Unlaguer", "price": 250, "image": "https://i.postimg.cc/HLv56w03/cerveza-ulaguer-precio-300.png", "description": "Lata de cerveza Unlaguer.", "category": "Líquidos", "status": "available", "hasBoxOption": true, "boxPrice": 6000, "boxQuantity": 24 },
        { "id": 17, "name": "Cerveza Cristal", "price": 280, "image": "https://i.postimg.cc/MZ5gbYw8/cristal.png", "description": "Lata de cerveza Cristal.", "category": "Líquidos", "status": "available", "hasBoxOption": true, "boxPrice": 6720, "boxQuantity": 24 },
        { "id": 18, "name": "Azúcar Blanca", "price": 600, "image": "https://i.postimg.cc/c40RbWXB/azucar_blanca.jpg", "description": "Paquete de 1 kg.", "category": "Mercado", "status": "available", "hasBoxOption": false },
        { "id": 19, "name": "Papel Sanitario", "price": 530, "image": "https://i.postimg.cc/Znt5rmJ2/grok_image_xypezad.jpg", "description": "Paquete de 4 rollos.", "category": "Aseo Personal", "status": "available", "hasBoxOption": false },
        { "id": 20, "name": "Malta Morena", "price": 210, "image": "https://i.postimg.cc/pLsccNs6/Malta-Morena-8-oz-Lata.jpg", "description": "Lata de 8 oz.", "category": "Líquidos", "status": "available", "hasBoxOption": false }
    ];
    // =================================================================
    // === FIN DEL CATÁLOGO DE PRODUCTOS ===
    // =================================================================

    // Variables globales
    var cart = JSON.parse(localStorage.getItem('cart')) || [];
    var whatsappGrou






